# GuÃ­a de trabajo â€” Proyecto Intermodular Lovelace

Este documento explica **cÃ³mo trabajar en el proyecto sin romper nada**, quÃ© comandos usar y cuÃ¡l es el flujo obligatorio de trabajo.

Si sigues esta guÃ­a, podrÃ¡s desarrollar tu tarea correctamente.

---

## ğŸ“¦ Requisitos previos
- Git instalado
- Docker Desktop funcionando
- Node.js instalado
- Acceso al repositorio de la organizaciÃ³n

---

## ğŸ§  Flujo de trabajo obligatorio

### Reglas generales
- âŒ Nadie trabaja directamente sobre `main`
- âŒ Nadie hace push al repo original salvo el responsable
- âœ… Todo trabajo parte de una **Issue**
- âœ… Todo desarrollo se hace en **ramas**
- âœ… Todo se entrega mediante **Pull Request**
- âœ… El merge solo lo hace el responsable del proyecto

---

## ğŸ” 1. Crear tu fork (una sola vez)

Desde GitHub:
- Entra al repositorio de la organizaciÃ³n
- Pulsa **Fork**
- Usa tu cuenta personal

---

## ğŸ“¥ 2. Clonar tu fork (NO el repo original)

```bash
git clone git@github.com:TU_USUARIO/proyecto-intermodular.git
cd proyecto-intermodular
```

---

## ğŸ”— 3. AÃ±adir el repo original como upstream (una sola vez)

git remote add upstream git@github.com:proyecto-intermodular-lovelace/proyecto-intermodular.git

Comprobar: git remote -v

---

## ğŸ”„ 4. Mantener tu fork actualizado (MUY IMPORTANTE)

Antes de empezar a programar y antes de abrir un PR:

git fetch upstream

git merge upstream/main

---

## ğŸŒ¿ 5. Crear rama de trabajo

Nunca trabajes en main.

git checkout -b feature/nombre-de-tu-tarea

Ejemplos: 

git checkout -b feature/users-module

git checkout -b chore/db-scripts

---

## ğŸ³ 6. Levantar el entorno completo (Docker)

Ahora no hace falta que abras el backend y el frontend por separado. Con un solo comando se levanta la Base de Datos, el NestJS y el Vite.

A) Primera vez o cambios en dependencias (InstalaciÃ³n)
Si es la primera vez que arrancas el proyecto o si alguien ha instalado paquetes nuevos en el package.json, usa este comando para que Docker construya las imÃ¡genes:

    docker compose up --build

B) Uso diario (Solo iniciar)
Si ya lo tienes todo configurado y solo quieres ponerte a picar cÃ³digo, simplemente lanza:

    docker compose up

Para detenerlo todo, pulsa Ctrl + C en la terminal o usa docker compose down.

---

## ğŸ—„ï¸ 7. Ejecutar el schema de la base de datos (si es necesario)

docker exec -i lovelace_db psql -U lovelace -d lovelace < scripts/db/001_init.sql

---

## ğŸŒ± 8. Cargar datos iniciales (seed)

docker exec -i lovelace_db psql -U lovelace -d lovelace < scripts/db/002_seed.sql

---

## ğŸ§ª 9. Entrar a la base de datos (psql)

docker exec -it lovelace_db psql -U lovelace -d lovelace

docker exec -it lovelace_db psql -U lovelace -d lovelace -c "select * from users"


### Users

admin@lovelace.edu â€” SuperAdmin2026!
carlos.ruiz@lovelace.edu â€” Admin2026!
maria.garcia@lovelace.edu â€” Usuario2026!

### Comandos Ãºtiles dentro de psql:

\dt              -- listar tablas

\d users         -- ver estructura de una 
tabla

SELECT * FROM users;

\q               -- salir

---

## âš™ï¸ 10. Acceso a las aplicaciones

Una vez que Docker termine de arrancar (verÃ¡s los logs de los tres servicios mezclados), podrÃ¡s acceder desde tu navegador en Windows a:

Frontend (Vite): http://localhost:5173

Backend (API NestJS): http://localhost:3000

DocumentaciÃ³n Swagger: http://localhost:3000/api (si estÃ¡ configurada)

---

## ğŸ©º 11. Comprobar conexiÃ³n a la base de datos

Con el backend arrancado: curl http://localhost:3000/api/health/db

Debe devolver algo como: { "db": "up", "result": [{ "ok": 1 }] }

---

## ğŸ§¾ 12. Ver estado de Git

git status

---